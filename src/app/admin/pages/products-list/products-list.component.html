<h2 class="text-center mt-5">Produits</h2>

<div class="d-flex row">
  <app-card *ngFor="let product of productList$ | async" class="col-12 col-md-4 col-lg-3">
    <div card-header>
      <div data-bs-toggle="collapse" attr.data-bs-target="#product-{{product.productId}}" aria-expanded="false"
        attr.aria-controls="product-{{product.productId}}">
        {{ product.name }}
      </div>
      <!-- TODO: Ajouter un chevron si il y a une description ou revoir complètement la mise en page suite à ajout formulaire modification / création-->
      <div class="collapse" id="product-{{product.productId}}">
        {{ product.description }}
      </div>
    </div>
    <div card-body>
      Prix: {{ product.price.toFixed(2) }} € / {{ product.unit }}
      <div class="form-check form-switch">
        <input class="form-check-input" type="checkbox" id="toggleVisible"
          (change)="updateProductAvailability(product.productId, $event)" [checked]="product.available">
        <label class="form-check-label" for="toggleVisible">Visible</label>
      </div>
      <div class="form-check form-switch">
        <input class="form-check-input" type="checkbox" id="toggleShortDelivery"
          (change)="updateProductShortDelivery(product.productId, $event)" [checked]="product.shortDelivery">
        <label class="form-check-label" for="toggleShortDelivery">Livraison courte</label>
      </div>
    </div>
  </app-card>
</div>